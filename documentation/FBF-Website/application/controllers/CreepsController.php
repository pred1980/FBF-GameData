<?phprequire_once 'Zend/Controller/Action.php';class CreepsController extends Zend_Controller_Action{    protected $_creepModel;        public function init()    {        $this->_creepModel = new Default_Model_Creeps();        $this->_spellsModel = New Default_Model_Spells();            //add css        $this->view->headLink()->appendStylesheet($this->view->baseUrl().'/files/frontend/css/creeps.css');                //add js        $this->view->headScript()->appendFile($this->view->baseUrl().'/files/frontend/js/jScrollbar.jquery.js', 'text/javascript');
        $this->view->headScript()->appendFile($this->view->baseUrl().'/files/frontend/js/jquery-ui-1.8.16.custom.min.js', 'text/javascript');
        $this->view->headScript()->appendFile($this->view->baseUrl().'/files/frontend/js/jquery-mousewheel.js', 'text/javascript');    }        public function indexAction ()    {        //set Title        $this->view->headTitle('FBF Creeps');                //set keywords for the heroes site        $this->view->placeholder('keywords')->set("FBF creeps, creeps of FBF, round, Forsaken Bastion's Fall");                   //set description for the heroes site        $this->view->placeholder('description')->set("FBF Creeps - FBF Creeps are various computer controlled units that spawn in 20 Rounds at 6 different places. Check out the complete list of all FBF Creeps.");                //Facebook        $this->view->placeholder('fb-summary')->set("FBF Creeps - FBF Creeps are various computer controlled units that spawn in 20 Rounds at 6 different places. Check out the complete list of all FBF Creeps.");        $this->view->placeholder('fb-image')->set(urlencode($this->view->serverUrl().'/files/frontend/img/enUS/misc/facebook-creeps.jpg'));                $data = array('name', 'fname', 'image', 'type', 'bounty');        $this->view->creepData = $this->_creepModel->getCreepData($data);		$this->view->creepRoundData = $this->_creepModel->getCreepRoundData();		$this->view->aggregated = $this->_creepModel->getAggregatedCreepRoundData();    }        public function creepthumbsAction()    {        $this->view->creepThumbs = $this->getRequest()->getParams();    }        public function creepdetailsAction()    {        $request = Zend_Controller_Front::getInstance()->getRequest();        //get url friendly heroName        $creepData = $this->_creepModel->getCreepByFriendlyName($request->getParam('creepName'));        //get hero id        $creepId = $this->_creepModel->getCreepId($creepData[0]['name']);        //get creep spell data        $spellData = $this->_spellsModel->getCreepSpellsByCreepID($creepData[0]['ID']);        $roundData = $this->_creepModel->getRoundsForCreep($creepData[0]['ID']);                if (!empty($creepData)) {            //give the Creep Details to the view            $this->view->creepDetails = $creepData;                        $data = array('name', 'fname', 'image');            $this->view->creepData = $this->_creepModel->getCreepData($data);                        //get Rounds for Creep            $this->view->roundData = $roundData;                        if (!empty($spellData)) {	            //give all Creep Spells to the view	            $this->view->creepSpells = $spellData;            }                    //set Title of the Creep Detail Page            $this->view->headTitle('FBF Hero - '.$creepData[0]['name']);                    //set keywords for the creep site            $this->view->placeholder('keywords')->set($creepData[0]['meta_keywords']);                         //set description for the creep site            $this->view->placeholder('description')->set($creepData[0]['meta_description']);        }        else {            // redirect to creeps main page if someone enters an incorrect creep-name-url            $this->_redirect('/creeps');            return;        }    }}