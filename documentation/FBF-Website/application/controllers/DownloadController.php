<?phprequire_once 'Zend/Controller/Action.php';class DownloadController extends Zend_Controller_Action{    protected $_download;    protected $_name;        public function init()    {        $this->_download = new Class_DownloadCounter();        $this->_name = new Default_Model_Download();    }        public function indexAction() {        //set Title        $this->view->headTitle('FBF Download');                //set keywords for the heroes site        $this->view->placeholder('keywords')->set("FBF download, where to download FBF, download FBF map, Forsaken Bastion's Fall");                   //set description for the heroes site        $this->view->placeholder('description')->set("FBF Download - Download the latest Version of FBF. See a list of the most recent changes of this version.");            //Facebook        $this->view->placeholder('fb-summary')->set("FBF Download - Download the latest Version of FBF. See a list of the most recent changes of this version.");        $this->view->placeholder('fb-image')->set(urlencode($this->view->serverUrl().'/files/frontend/img/enUS/misc/facebook-download.jpg'));            //add js+css        $this->view->headLink()->appendStylesheet($this->view->baseUrl().'/files/frontend/css/download.css');        $this->view->headScript()->appendFile($this->view->baseUrl().'/files/frontend/js/download.js', 'text/javascript');                $bootstrap = $this->getInvokeArg('bootstrap');        $options = $bootstrap->getOptions();                $this->view->version = $options['FBF']['version'];                $this->view->uploadTime = $this->_download->getRealFileUploadTime();        $this->view->language = $options['FBF']['language'];        $this->view->mapSize = $this->_download->getMapSize();        $this->view->counts = $this->_download->getCounts();                $this->view->downloadsPerDay = $this->_name->getDownloadsPerDay();
    }        public function downloadAction() {                $this->_download->onInit();        // disable the view ... and perhaps the layout        $this->view->layout()->disableLayout();        $this->_helper->viewRenderer->setNoRender(true);    }        public function getcounterAction()    {        $this->view->layout()->disableLayout();        $this->_helper->viewRenderer->setNoRender(true);        $counts = $this->_download->getCounts();        $countsPerDay = $this->_name->getDownloadsPerDay();                echo $counts[0]['hits']; //.'<br /> ('.$countsPerDay.' today)';    }      }